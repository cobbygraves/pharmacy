(this.webpackJsonpdrugsales=this.webpackJsonpdrugsales||[]).push([[0],{126:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"showSnackBar",(function(){return D})),a.d(n,"showModal",(function(){return A}));var c=a(0),i=a(10),r=a.n(i),o=a(8),s=a(34),l=a(21),d=a(189),u=a(104),j=a(192),b=a(194),h=a(2),O=Object(d.a)({root:{position:"relative",cursor:function(e){return e.stocked?"pointer":"default"},"& :hover":{}},drugname:{color:function(e){return e.stocked?"black":"red"}},priceStyle:{position:"relative",left:"60%",height:"100%",color:function(e){return e.stocked?"black":"red"},fontSize:18.5,"&:hover":{background:"none",boxShadow:"none"}}}),m=function(e){var t=O(e);return Object(h.jsxs)(j.a,{className:t.root,onClick:e.drugInfo,children:[Object(h.jsx)(b.a,{align:"left",colSpan:1,children:Object(h.jsxs)(u.a,{variant:"h5",className:t.drugname,children:[e.drugName," "]})}),Object(h.jsx)(b.a,{align:"left",colSpan:1,children:Object(h.jsxs)(u.a,{variant:"h6",children:[Object(h.jsx)("span",{className:t.priceStyle,children:e.drugPrice})," "]})})]})},p=(a(126),a(195)),g=a(100),f=a.n(g),x=a(99),v=a.n(x),S=a(20),y=a.n(S),k=a(23),w=a(18),N="SHOW_SNACKBAR",C="SHOW_MODAL",D=function(e,t,a){return function(n){return n({type:N,showSnack:e,messageSnack:t,typeSnack:a})}},A=function(e,t,a){return function(n){return n({type:C,openModal:e,drugId:t,drugName:a})}},I="https://kind-blue-xerus-cape.cyclic.app",T=Object(d.a)({inputStyle:{width:"25%",height:45,textAlign:"center",fontSize:20}}),L=function(e){var t=T(),a=Object(c.useState)(1),i=Object(o.a)(a,2),r=i[0],s=i[1],l=Object(c.useState)(!1),d=Object(o.a)(l,2),u=d[0],j=d[1],b=Object(w.b)(),O=Object(k.b)(n,b).showSnackBar;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{"data-label":"Name",className:t.nameStyle,children:e.name}),Object(h.jsxs)("td",{"data-label":"Quantity",children:[Object(h.jsx)(p.a,{"aria-label":"cancel",disabled:u,onClick:e.removeDrug,children:Object(h.jsx)(v.a,{style:{color:u?"gray":"red"}})}),Object(h.jsx)("input",{type:"text",className:t.inputStyle,value:r,onChange:function(e){s(e.target.value)},disabled:u}),Object(h.jsx)(p.a,{"aria-label":"add",disabled:u,onClick:function(){y.a.get("".concat(I,"/drug/").concat(e.id)).then((function(t){var a=t.data;if(a.left<r)return O(!0,"Only ".concat(a.left," ").concat(a.name," in Stock"),"error");var n=r*e.price;e.addAmount(n,r),j(!0)})).catch((function(e){console.log(e.message)}))},children:Object(h.jsx)(f.a,{style:{color:u?"gray":"green"}})})]}),Object(h.jsx)("td",{"data-label":"Price",children:e.price.toFixed(2)}),Object(h.jsx)("td",{"data-label":"Amount",children:(r*e.price).toFixed(2)})]})})},B=a(196),P=Object(d.a)({container:{maxHeight:300}}),R=function(e){var t=P();return Object(h.jsx)("div",{children:Object(h.jsx)(B.a,{className:t.container,children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"Price"}),Object(h.jsx)("th",{children:"Amount"})]})}),Object(h.jsx)("tbody",{children:e.cartItems.map((function(t){return Object(h.jsx)(L,{name:t.name,addAmount:function(a,n){return e.addAmount(t.id,a,n)},price:t.price,id:t.id,removeDrug:function(){return e.removeItem(t.id)}},t.id)}))})]})})})},E=a(22),M=a(197),G=a(198),W=a(199),z=a(13),F=a(16),H=Object(d.a)((function(e){var t;return{root:{position:"relative",flexGrow:1,marginBottom:20,"& .MuiAppBar-root":{backgroundColor:"black"},"& .MuiSvgIcon-root":Object(E.a)({},e.breakpoints.up("sm"),{display:"none"}),"& img":Object(E.a)({position:"relative",left:-10},e.breakpoints.down("xs"),{display:"none"})},menuButton:{marginRight:e.spacing(2)},buttonActions:Object(E.a)({color:"white",display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:(t={borderRadius:e.shape.borderRadius,backgroundColor:Object(z.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(z.a)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},Object(E.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(E.a)(t,e.breakpoints.down("xs"),{width:"75%"}),t),inputRoot:{color:"inherit"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),U=function(e){var t=H(),a=Object(F.g)();return Object(h.jsx)("div",{className:t.root,children:Object(h.jsx)(M.a,{position:"static",children:Object(h.jsxs)(G.a,{children:[Object(h.jsx)(p.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer",children:Object(h.jsx)(u.a,{variant:"subtitle1",style:{fontWeight:"bolder"},children:"RUDIA CHEMICALS"})}),Object(h.jsx)("div",{style:{flexGrow:1}}),Object(h.jsxs)(W.a,{variant:"outlined",className:t.buttonActions,onClick:function(){a.push("/admin/login")},children:[" ","Admin"]}),Object(h.jsx)(W.a,{className:t.buttonActions,variant:"outlined",onClick:function(){a.push("/")},children:"Logout"})]})})})},q=a(200),K=a(201),Q=a(202),J=a(208),_=a(105),V=Object(d.a)({table:{minWidth:450},headerStyle:{color:"white",background:"black",fontWeight:"bolder"},containerStyle:{marginLeft:85,marginRight:85,marginTop:25},drugRow:{cursor:"pointer"}}),Y=function(e){var t=V();return Object(h.jsx)(B.a,{component:_.a,className:t.containerStyle,children:Object(h.jsxs)(q.a,{className:t.table,"aria-label":"simple table",children:[Object(h.jsx)(K.a,{children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(b.a,{className:t.headerStyle,children:"Name"}),Object(h.jsx)(b.a,{align:"right",className:t.headerStyle,children:"Price"})]})}),Object(h.jsx)(Q.a,{children:e.drugSold.map((function(a){return Object(h.jsxs)(j.a,{className:t.drugRow,onClick:function(){return e.showModal(a.id,a.name)},children:[Object(h.jsx)(b.a,{component:"th",scope:"row",children:a.name}),Object(h.jsx)(b.a,{align:"right",children:a.price})]},a.id+Math.random())}))})]})})},X=a(214),Z=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],i=a[1],r=Object(c.useCallback)((function(){y.a.get(e).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}),[e]);return Object(c.useEffect)((function(){r()}),[]),[n,i]},$=a(216),ee=a(206),te=a(204),ae=a(205),ne=a(203),ce=function(e){var t=Object(w.c)((function(e){return e.modal})),a=t.open,c=t.name,i=Object(w.b)(),o=Object(k.b)(n,i).showModal,s=function(){o(!1,"")},l=Object(h.jsx)("div",{children:Object(h.jsxs)($.a,{open:a,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(ne.a,{id:"alert-dialog-title",children:"WARNING"}),Object(h.jsx)(te.a,{children:Object(h.jsx)(ae.a,{id:"alert-dialog-description",children:"Do you want to add ".concat(c," back to shelf?")})}),Object(h.jsxs)(ee.a,{children:[Object(h.jsx)(W.a,{onClick:s,color:"primary",children:"Cancel"}),Object(h.jsx)(W.a,{onClick:e.addDrug,color:"primary",autoFocus:!0,children:"Ok"})]})]})});return r.a.createPortal(l,document.getElementById("modal"))},ie=a(5),re=a(207),oe=a(209),se=Object(d.a)((function(e){return{table:{minWidth:"100%","& .MuiTableCell-head":{backgroundColor:"black"}},container:{maxHeight:345},search:{height:45,width:"99%",fontSize:25,marginTop:15,paddingLeft:15},drugStockGrid:{background:"#ccc",padding:15},logo:{fontSize:25,fontWeight:"bolder",textAlign:"center"},card:{marginTop:25},totalCartCost:{color:"GrayText",textAlign:"center",marginBottom:15},hrStyle:{border:"1px solid black",width:"85%"},cartItemGrid:{position:"relative",padding:10,marginLeft:"auto",marginRight:"auto",height:"100%",width:"100%"},secondHr:{border:"1px solid black",width:"100%",marginTop:25},cartItemTitle:{fontSize:25,fontWeight:"bolder",textAlign:"center"},cartCostDiv:{position:"sticky",marginTop:45,left:"30%",bottom:15}}})),le=Object(ie.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,fontWeight:"bold"},body:{fontSize:12}}}))(b.a),de=function(){var e=se(),t=Z("".concat(I,"/drug")),a=Object(o.a)(t,2),i=a[0],r=a[1],d=Object(w.b)(),b=Object(k.b)(n,d).showModal,O=Object(w.c)((function(e){return e.modal})).id,p=Object(c.useState)(""),g=Object(o.a)(p,2),f=g[0],x=g[1],v=Object(c.useState)([]),S=Object(o.a)(v,2),N=S[0],C=S[1],D=Object(c.useState)([]),A=Object(o.a)(D,2),T=A[0],L=A[1],P=Object(c.useState)(!1),E=Object(o.a)(P,2),M=E[0],G=E[1],z=Object(c.useState)(!1),F=Object(o.a)(z,2),H=F[0],_=F[1],V=Object(c.useState)(0),$=Object(o.a)(V,2),ee=$[0],te=$[1],ae=Object(c.useState)(0),ne=Object(o.a)(ae,2),ie=ne[0],de=ne[1],ue=Object(c.useState)([]),je=Object(o.a)(ue,2),be=je[0],he=je[1],Oe=function(e,t){var a=i.findIndex((function(t){return t.id===e.id})),n=i[a],c=n.sold,o=n.left,d=Object(l.a)(Object(l.a)({},n),{},{sold:c+parseFloat(t),left:o-parseFloat(t)}),u=Object(s.a)(i);u[a]=d,r(u)};Object(c.useEffect)((function(){var e=0;be.forEach((function(t){e+=t})),te(e)}),[be]),Object(c.useEffect)((function(){y.a.get("".concat(I,"/sales")).then((function(e){var t=e.data[0],a=t.sales,n=t.drugs;de(a),L(n)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){if(H){var e={sales:ie,id:"sales",drugs:T};y.a.put("".concat(I,"/sales/update"),e).then((function(e){})).catch((function(e){console.log(e)}))}}),[H,ie,T]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(ce,{addDrug:function(){b(!1,"","");var e=T.find((function(e){return e.id===O})).price;de((function(t){return t-e}));var t=T.filter((function(e){return e.id!==O}));L(t)}}),Object(h.jsx)(U,{}),Object(h.jsxs)(re.a,{container:!0,children:[Object(h.jsxs)(re.a,{item:!0,md:7,className:e.drugStockGrid,children:[Object(h.jsx)(u.a,{variant:"h5",className:e.logo,children:"DRUG STOCK"}),Object(h.jsx)("div",{className:e.search,children:Object(h.jsx)(J.a,{placeholder:"Search By Drug Name",className:e.search,inputProps:{"aria-label":"search"},onChange:function(e){x(e.target.value)},value:f})}),i&&0!==i.length?Object(h.jsx)(oe.a,{className:e.card,children:Object(h.jsx)(B.a,{className:e.container,children:Object(h.jsxs)(q.a,{stickyHeader:!0,className:e.table,"aria-label":"customized table",children:[Object(h.jsx)(K.a,{children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(le,{children:"Drug"}),Object(h.jsxs)(le,{align:"center",children:[Object(h.jsx)("span",{style:{marginRight:100}}),"Price"]})]})}),Object(h.jsx)(Q.a,{children:i&&0!==i.length&&i.sort((function(e,t){return e.name>t.name?1:-1})).filter((function(e){return""===f||e.name.toLowerCase().includes(f.toLowerCase())?e:void 0})).map((function(e){return 0==e.left?Object(h.jsx)(m,{drugName:e.name,drugPrice:e.price},e.id):Object(h.jsx)(m,{stocked:!0,drugName:e.name,drugPrice:e.price&&e.price.toFixed(2),drugInfo:function(){return function(e){if(N.length>0){if(N.some((function(t){return t.id===e.id})))return;var t={id:e.id,name:e.name,price:e.price,quantity:1},a=Object(s.a)(N);C(a.concat(t))}else{var n={id:e.id,name:e.name,price:e.price,quantity:1};C(N.concat(n))}}(e)}},e.id)}))})]})})}):Object(h.jsx)("h4",{style:{textAlign:"center",marginTop:25},children:"Loading drugs..."})]}),Object(h.jsx)(re.a,{item:!0,md:5,children:Object(h.jsxs)("div",{className:e.cartItemGrid,children:[" ",Object(h.jsx)(u.a,{variant:"h5",className:e.cartItemTitle,children:"CART ITEMS"}),Object(h.jsx)("hr",{className:e.hrStyle}),Object(h.jsx)(R,{cartItems:N,removeItem:function(e){var t=N.filter((function(t){return t.id!==e}));C(t)},addAmount:function(e,t,a){!function(e,t){var a=i.find((function(t){return t.id===e})),n=a.sold,c=a.left,r=Object(l.a)(Object(l.a)({},a),{},{sold:n+parseFloat(t),left:c-parseFloat(t)});y.a.put("".concat(I,"/drug/update"),r).then((function(e){var t=e.data;Oe(t)})).catch((function(e){console.log(e.response.message)}))}(e,a);var n=N.findIndex((function(t){return t.id===e})),c=N[n],r=Object(l.a)(Object(l.a)({},c),{},{quantity:a}),o=Object(s.a)(N);o[n]=r;var d=Object(s.a)(be).concat(t);C(o),he(d)}}),Object(h.jsxs)("div",{className:e.cartCostDiv,children:[Object(h.jsx)(u.a,{variant:"h5",className:e.totalCost,children:Object(h.jsxs)("span",{children:[" Total Cost = \u20b5 ",ee.toFixed(2)]})}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{type:"submit",color:"primary",size:"large",fullWidth:!0,variant:"contained",onClick:function(){if(N.length>0){de((function(e){return e+ee}));var e=Object(s.a)(N),t=[];e.forEach((function(e){for(var a=0;a<e.quantity;a++){var n=Object(l.a)(Object(l.a)({},e),{},{id:Object(X.a)()});t.unshift(n)}var c=Object(s.a)(T).concat(t);L(c)}))}C([]),he([]),_(!0)},disabled:N.length!==be.length,children:"ACCEPT PAYMENT"})})]})]})}),Object(h.jsx)("hr",{className:e.secondHr})]}),Object(h.jsxs)(re.a,{container:!0,justifyContent:"space-around",children:[Object(h.jsxs)(u.a,{variant:"h5",children:["Total Sales = \u20b5 ",ie.toFixed(2)]}),Object(h.jsx)(W.a,{variant:"contained",size:"medium",onClick:function(){G(!M)},children:"Detail Sales"}),Object(h.jsx)(W.a,{variant:"contained",size:"medium",onClick:function(){y.a.put("".concat(I,"/sales/update"),{sales:0,id:"sales",drugs:[]}).then((function(e){L([]),de(0),C([]),G(!1)})).catch((function(e){console.log(e)}))},children:"Close Sales"})]}),Object(h.jsx)(re.a,{container:!0,justifyContent:"center",children:M&&Object(h.jsx)(Y,{drugSold:T,showModal:function(e,t){b(!0,e,t)}})})]})},ue=a(211),je=Object(d.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2.9),width:"30ch"}},formDiv:{position:"relative"},stockButton:{position:"relative",top:30,left:75}}})),be=function(e){var t=je();return Object(h.jsx)("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:e.submitStock,children:Object(h.jsxs)("div",{className:t.formDiv,children:[Object(h.jsx)(ue.a,{id:"outlined-full-width",label:"Drug Name",style:{margin:8,width:"100%"},fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",value:e.name,onChange:e.changeName}),Object(h.jsx)(ue.a,{id:"outlined-required",label:"Price",variant:"outlined",InputLabelProps:{shrink:!0},value:e.price,onChange:e.changePrice}),Object(h.jsx)(ue.a,{id:"outlined-disabled",label:"Expiry Date",variant:"outlined",InputLabelProps:{shrink:!0},value:e.expiry,onChange:e.changeExpiry}),Object(h.jsx)(ue.a,{id:"outlined-password-input",label:"Quantity Stocked",InputLabelProps:{shrink:!0},variant:"outlined",value:e.stocked,onChange:e.changeStocked}),Object(h.jsx)(ue.a,{id:"outlined-password-input",label:"Quantity Sold",InputLabelProps:{shrink:!0},variant:"outlined",value:e.sold,onChange:e.changeSold}),Object(h.jsx)(ue.a,{id:"outlined-password-input",label:"Quantity Left",InputLabelProps:{shrink:!0},variant:"outlined",value:e.left,onChange:e.changeLeft}),e.newStock?Object(h.jsx)(W.a,{variant:"contained",size:"large",className:t.stockButton,color:"primary",type:"submit",children:"ADD NEW STOCK"}):Object(h.jsx)(W.a,{variant:"contained",size:"large",type:"submit",className:t.stockButton,children:"UPDATE STOCK"})]})})},he=Object(d.a)((function(e){var t;return{root:{position:"relative",flexGrow:1,marginBottom:20,"& .MuiAppBar-root":{backgroundColor:"black"},"& .MuiSvgIcon-root":Object(E.a)({},e.breakpoints.up("sm"),{display:"none"}),"& img":Object(E.a)({position:"relative",left:-10},e.breakpoints.down("xs"),{display:"none"})},menuButton:{marginRight:e.spacing(2)},buttonActions:Object(E.a)({color:"white",display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:(t={borderRadius:e.shape.borderRadius,backgroundColor:Object(z.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(z.a)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},Object(E.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(E.a)(t,e.breakpoints.down("xs"),{width:"75%"}),t),inputRoot:{color:"inherit"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),Oe=function(e){var t=Object(F.g)(),a=he();return Object(h.jsx)("div",{className:a.root,children:Object(h.jsx)(M.a,{position:"static",children:Object(h.jsxs)(G.a,{children:[Object(h.jsx)(p.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer",children:Object(h.jsx)(u.a,{variant:"subtitle1",style:{fontWeight:"bolder"},children:"RUDIA CHEMICALS"})}),Object(h.jsx)("div",{style:{flexGrow:1}}),Object(h.jsx)(W.a,{className:a.buttonActions,variant:"outlined",onClick:e.addStock,children:"New Stock"}),Object(h.jsx)(W.a,{className:a.buttonActions,variant:"outlined",onClick:function(){t.push("/home")},children:"Logout"})]})})})},me=Object(d.a)((function(e){return{table:{minWidth:"100%","& .MuiTableCell-head":{backgroundColor:"black"}},container:{maxHeight:355},search:{height:45,width:"97%",fontSize:25,marginTop:15,paddingLeft:15},drugStockGrid:{background:"#ccc",padding:15},logo:{fontSize:25,fontWeight:"bolder",textAlign:"center"},card:{marginTop:25},hrStyle:{border:"1px solid black",width:"85%"},drugDetailGrid:{position:"relative",padding:10,marginLeft:"auto",marginTop:30,marginRight:"auto",height:"100%",width:"100%"},drugDetailTitle:{fontSize:25,fontWeight:"bolder",textAlign:"center"}}})),pe=function(e){var t=me(),a=Z("http://localhost:5000/drug"),i=Object(o.a)(a,2),r=i[0],d=i[1],j=Object(c.useState)(!0),b=Object(o.a)(j,2),O=b[0],p=b[1],g=Object(c.useState)(""),f=Object(o.a)(g,2),x=f[0],v=f[1],S=Object(c.useState)(""),N=Object(o.a)(S,2),C=N[0],D=N[1],A=Object(c.useState)(""),T=Object(o.a)(A,2),L=T[0],P=T[1],R=Object(c.useState)(""),E=Object(o.a)(R,2),M=E[0],G=E[1],W=Object(c.useState)(""),z=Object(o.a)(W,2),F=z[0],H=z[1],U=Object(c.useState)(""),K=Object(o.a)(U,2),_=K[0],V=K[1],Y=Object(c.useState)(""),X=Object(o.a)(Y,2),$=X[0],ee=X[1],te=Object(c.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(w.b)(),se=Object(k.b)(n,ie).showSnackBar;return Object(h.jsxs)("div",{children:[Object(h.jsx)(Oe,{addStock:function(){p(!0),P(""),G(""),H(""),V(""),ee(""),ce("")}}),Object(h.jsxs)(re.a,{container:!0,children:[Object(h.jsxs)(re.a,{item:!0,md:6,className:t.drugStockGrid,children:[Object(h.jsx)(u.a,{variant:"h5",className:t.logo,children:"DRUG STOCK"}),Object(h.jsx)("div",{className:t.search,children:Object(h.jsx)(J.a,{placeholder:"Search By Drug Name",className:t.search,inputProps:{"aria-label":"search"},onChange:function(e){v(e.target.value)},value:x})}),0!==r.length?Object(h.jsx)(oe.a,{className:t.card,children:Object(h.jsx)(B.a,{className:t.container,children:Object(h.jsx)(q.a,{stickyHeader:!0,className:t.table,"aria-label":"customized table",children:Object(h.jsx)(Q.a,{children:0!==r.length&&r.sort((function(e,t){return e.name>t.name?1:-1})).filter((function(e){return""===x||e.name.toLowerCase().includes(x.toLowerCase())?e:void 0})).map((function(e){return Object(h.jsx)(m,{drugName:e.name,drugInfo:function(){return function(e){var t=r.find((function(t){return t.id===e}));D(t.id),P(t.name),G(t.price),H(t.expiry),V(t.stocked),ee(t.sold),ce(t.left),p(!1)}(e.id)},stocked:!0},e.id)}))})})})}):Object(h.jsx)("h4",{style:{textAlign:"center",marginTop:25},children:"Loading drugs..."})]}),Object(h.jsxs)(re.a,{item:!0,md:6,className:t.drugDetailGrid,children:[Object(h.jsx)(u.a,{variant:"h5",className:t.drugDetailTitle,children:"DRUG DETAILS"}),Object(h.jsx)("hr",{className:t.hrStyle}),Object(h.jsx)(be,{submitStock:function(e){if(e.preventDefault(),O){var t={name:L.trim(),price:M,expiry:F.trim(),stocked:_,sold:$,left:ne};if(console.log(".......Added Drug.........."),console.log(t),""===L||""===M||parseFloat(_)!==parseFloat(ne)+parseFloat($))return se(!0,"Wrong / incomplete data values...Please check again","error");y.a.post("".concat(I,"/drug/stock"),t).then((function(e){se(!0,"drug added successfully","success"),P(""),G(""),H(""),V(""),ee(""),ce("")})).catch((function(e){se(!0,"error adding drug","error")}))}else{var a={id:C,name:L.trim(),price:M,expiry:F.trim(),stocked:_,sold:$,left:ne};if(console.log(".......Updated Drug.........."),console.log(a),""===L||""===M||parseFloat(_)!==parseFloat(ne)+parseFloat($))return se(!0,"Wrong / incomplete data values...Please check again","error");y.a.put("".concat(I,"/drug/update"),a).then((function(e){var t=e.data,a=r.findIndex((function(e){return e.id===t.id})),n=r[a],c=Object(l.a)({},n),i=Object(s.a)(r);i[a]=c,d(i),se(!0,"drug updated successfully","success"),D(""),P(""),G(""),H(""),V(""),ee(""),ce("")})).catch((function(e){se(!0,"error updating drug","error")}))}},newStock:O,name:L,changeName:function(e){return P(e.target.value)},price:M,changePrice:function(e){return G(e.target.value)},expiry:F,changeExpiry:function(e){return H(e.target.value)},stocked:_,changeStocked:function(e){return V(e.target.value)},sold:$,changeSold:function(e){return ee(e.target.value)},left:ne,changeLeft:function(e){return ce(e.target.value)}})]})]})]})},ge=(a(150),function(){return Object(h.jsxs)("div",{className:"lds-roller",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})}),fe=Object(d.a)({formStyle:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center","& .MuiTypography-root":{marginBottom:15}},formDiv:{position:"absolute",top:"25%",left:"35%",padding:25,width:350},inputStyle:{width:"100%",marginBottom:15},administratorButton:{color:"red",textDecoration:"underline",marginTop:10,textTransform:"lowercase"}}),xe=function(e){var t=fe(),a=Object(c.useRef)(),n=Object(F.g)(),i=Object(c.useState)(""),r=Object(o.a)(i,2),s=r[0],l=r[1],d=Object(c.useState)(""),j=Object(o.a)(d,2),b=j[0],O=j[1];return Object(h.jsx)(oe.a,{className:t.formDiv,raised:!0,children:Object(h.jsxs)("form",{className:t.formStyle,onSubmit:function(t){t.preventDefault(),e.loginDetails(s,b)},children:[Object(h.jsx)(u.a,{variant:"h4",children:"SALES"}),e.loginError&&Object(h.jsx)(u.a,{variant:"body1",color:"error",children:"wrong username / password"}),e.showSpinner&&Object(h.jsx)(ge,{}),Object(h.jsx)(ue.a,{className:t.inputStyle,placeholder:"username",variant:"filled",ref:a,type:"text",value:s,onChange:function(e){return l(e.target.value)}}),Object(h.jsx)(ue.a,{placeholder:"password",variant:"filled",type:"password",className:t.inputStyle,value:b,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)(W.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"LOGIN"}),Object(h.jsx)(W.a,{variant:"text",className:t.administratorButton,onClick:function(){n.push("/admin/login")},children:"login administrator"})]})})},ve=Object(d.a)({formStyle:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center","& .MuiTypography-root":{marginBottom:15}},formDiv:{position:"absolute",top:"25%",left:"35%",padding:25,width:350},salesButton:{color:"red",textDecoration:"underline",marginTop:10,textTransform:"lowercase"},inputStyle:{width:"100%",marginBottom:15}}),Se=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),O=b[0],m=b[1],p=ve(),g=Object(F.g)(),f=Object(c.useRef)(),x=Object(c.useState)(!1),v=Object(o.a)(x,2),S=v[0],k=v[1];return Object(h.jsx)(oe.a,{className:p.formDiv,raised:!0,children:Object(h.jsxs)("form",{className:p.formStyle,onSubmit:function(e){e.preventDefault(),function(e,t){if(k(!0),i(!1),""===e||""===t)return i(!0),void k(!1);var a={username:e,password:t};y.a.post("".concat(I,"/user/admin/login"),a).then((function(e){k(!1),e.data.verification?(i(!1),g.push("/admin")):i(!0)})).catch((function(e){i(!0)}))}(l,O)},children:[Object(h.jsx)(u.a,{variant:"h4",children:"ADMIN"}),n&&Object(h.jsx)(u.a,{variant:"body1",color:"error",children:"wrong username / password"}),S&&Object(h.jsx)(ge,{}),Object(h.jsx)(ue.a,{className:p.inputStyle,placeholder:"username",variant:"filled",ref:f,type:"text",value:l,onChange:function(e){return d(e.target.value)}}),Object(h.jsx)(ue.a,{placeholder:"password",variant:"filled",type:"password",className:p.inputStyle,value:O,onChange:function(e){return m(e.target.value)}}),Object(h.jsx)(W.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"LOGIN"}),Object(h.jsx)(W.a,{variant:"text",className:p.salesButton,onClick:function(){g.push("/")},children:"login sales"})]})})},ye=a(215),ke=a(212),we=Object(d.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Ne=function(){var e=Object(w.c)((function(e){return e.snackBar})),t=we(),a=Object(w.b)(),c=Object(k.b)(n,a).showSnackBar,i=function(e,t){"clickaway"!==t&&c(!1,"","success")},o=Object(h.jsx)("div",{className:t.root,children:Object(h.jsx)(ye.a,{open:e.open,autoHideDuration:5e3,onClose:i,children:Object(h.jsx)(ke.a,{onClose:i,severity:e.type,children:e.message})})});return r.a.createPortal(o,document.getElementById("snackBar"))},Ce=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),l=s[0],d=s[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),b=j[0],O=j[1],m=Object(F.g)();return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(Ne,{}),Object(h.jsxs)(F.d,{children:[Object(h.jsx)(F.b,{path:"/",exact:!0,children:Object(h.jsx)(xe,{loginDetails:function(e,t){if(O(!0),""===e||""===t)return d(!0),void O(!1);var a={username:e,password:t};y.a.post("".concat(I,"/user/sales/login"),a).then((function(e){O(!1),e.data.verification?(i(!0),d(!1),m.push("/home")):d(!0)})).catch((function(e){console.log(e),d(!0)}))},loginError:l,showSpinner:b})}),n&&Object(h.jsx)(F.b,{path:"/home",children:Object(h.jsx)(de,{})}),Object(h.jsx)(F.b,{path:"/admin",exact:!0,children:Object(h.jsx)(pe,{})}),Object(h.jsx)(F.b,{path:"/admin/login",children:Object(h.jsx)(Se,{})}),Object(h.jsx)(F.a,{to:"/"})]})]})},De=a(102),Ae=a(41),Ie=Object(k.c)({snackBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,message:"",type:"success"},t=arguments.length>1?arguments[1]:void 0;return t.type===N?Object(l.a)(Object(l.a)({},e),{},{open:t.showSnack,message:t.messageSnack,type:t.typeSnack}):e},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,id:" ",name:""},t=arguments.length>1?arguments[1]:void 0;return t.type===C?Object(l.a)(Object(l.a)({},e),{},{open:t.openModal,id:t.drugId,name:t.drugName}):e}}),Te=Object(k.d)(Ie,{},Object(k.a)(De.a));r.a.render(Object(h.jsxs)(Ae.a,{children:[Object(h.jsx)(w.a,{store:Te,children:Object(h.jsx)(Ce,{})})," "]}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.2d3dcfc9.chunk.js.map